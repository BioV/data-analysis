<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R语言玩转金融与体彩数据分析</title>
  <meta name="description" content="此书乃个人学习R语言的经验分享与建议。 此文件输出格式为 bookdown::gitbook。">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="R语言玩转金融与体彩数据分析" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://github.com/englianhu/data-analysis" />
  <meta property="og:image" content="https://github.com/englianhu/data-analysisimages/cover.jpg" />
  <meta property="og:description" content="此书乃个人学习R语言的经验分享与建议。 此文件输出格式为 bookdown::gitbook。" />
  <meta name="github-repo" content="englianhu/data-analysis" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R语言玩转金融与体彩数据分析" />
  
  <meta name="twitter:description" content="此书乃个人学习R语言的经验分享与建议。 此文件输出格式为 bookdown::gitbook。" />
  <meta name="twitter:image" content="https://github.com/englianhu/data-analysisimages/cover.jpg" />

<meta name="author" content="®γσ,黄联富">


<meta name="date" content="2018-10-21">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="touch-icon.png">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="prev" href="intro.html">
<link rel="next" href="stats.html">
<script src="book_assets/jquery-2.2.3/jquery.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R语言玩转金融与体彩数据分析</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 前言</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> 介绍</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#rrstudio"><i class="fa fa-check"></i><b>2.1</b> R语言与RStudio</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#shiny"><i class="fa fa-check"></i><b>2.2</b> Shiny应用</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#section-2.3"><i class="fa fa-check"></i><b>2.3</b> 调用其它语言程序</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="analytics.html"><a href="analytics.html"><i class="fa fa-check"></i><b>3</b> 数据分析</a><ul>
<li class="chapter" data-level="3.1" data-path="analytics.html"><a href="analytics.html#section-3.1"><i class="fa fa-check"></i><b>3.1</b> 读存数据</a><ul>
<li class="chapter" data-level="3.1.1" data-path="analytics.html"><a href="analytics.html#section-3.1.1"><i class="fa fa-check"></i><b>3.1.1</b> 本地文件</a></li>
<li class="chapter" data-level="3.1.2" data-path="analytics.html"><a href="analytics.html#section-3.1.2"><i class="fa fa-check"></i><b>3.1.2</b> 外来文件</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="analytics.html"><a href="analytics.html#section-3.2"><i class="fa fa-check"></i><b>3.2</b> 采集网络数据</a><ul>
<li class="chapter" data-level="3.2.1" data-path="analytics.html"><a href="analytics.html#section-3.2.1"><i class="fa fa-check"></i><b>3.2.1</b> 普通采集</a></li>
<li class="chapter" data-level="3.2.2" data-path="analytics.html"><a href="analytics.html#api"><i class="fa fa-check"></i><b>3.2.2</b> API接口</a></li>
<li class="chapter" data-level="3.2.3" data-path="analytics.html"><a href="analytics.html#web-driver"><i class="fa fa-check"></i><b>3.2.3</b> Web Driver</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="analytics.html"><a href="analytics.html#section-3.3"><i class="fa fa-check"></i><b>3.3</b> 数据处理</a><ul>
<li class="chapter" data-level="3.3.1" data-path="analytics.html"><a href="analytics.html#section-3.3.1"><i class="fa fa-check"></i><b>3.3.1</b> 文字与数字</a></li>
<li class="chapter" data-level="3.3.2" data-path="analytics.html"><a href="analytics.html#section-3.3.2"><i class="fa fa-check"></i><b>3.3.2</b> 数据框与矩阵</a></li>
<li class="chapter" data-level="3.3.3" data-path="analytics.html"><a href="analytics.html#section-3.3.3"><i class="fa fa-check"></i><b>3.3.3</b> 列表与嵌套数据</a></li>
<li class="chapter" data-level="3.3.4" data-path="analytics.html"><a href="analytics.html#section-3.3.4"><i class="fa fa-check"></i><b>3.3.4</b> 内存</a></li>
<li class="chapter" data-level="3.3.5" data-path="analytics.html"><a href="analytics.html#section-3.3.5"><i class="fa fa-check"></i><b>3.3.5</b> 数据库</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="analytics.html"><a href="analytics.html#section-3.4"><i class="fa fa-check"></i><b>3.4</b> 数据分析程序包</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="stats.html"><a href="stats.html"><i class="fa fa-check"></i><b>4</b> 统计模式</a><ul>
<li class="chapter" data-level="4.1" data-path="stats.html"><a href="stats.html#section-4.1"><i class="fa fa-check"></i><b>4.1</b> 基本统计学</a><ul>
<li class="chapter" data-level="4.1.1" data-path="stats.html"><a href="stats.html#section-4.1.1"><i class="fa fa-check"></i><b>4.1.1</b> 线性模型</a></li>
<li class="chapter" data-level="4.1.2" data-path="stats.html"><a href="stats.html#section-4.1.2"><i class="fa fa-check"></i><b>4.1.2</b> 广义型线性模型</a></li>
<li class="chapter" data-level="4.1.3" data-path="stats.html"><a href="stats.html#section-4.1.3"><i class="fa fa-check"></i><b>4.1.3</b> 最优模型选择</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="stats.html"><a href="stats.html#section-4.2"><i class="fa fa-check"></i><b>4.2</b> 高级统计学</a><ul>
<li class="chapter" data-level="4.2.1" data-path="stats.html"><a href="stats.html#section-4.2.1"><i class="fa fa-check"></i><b>4.2.1</b> 极大似然估计</a></li>
<li class="chapter" data-level="4.2.2" data-path="stats.html"><a href="stats.html#section-4.2.2"><i class="fa fa-check"></i><b>4.2.2</b> 蒙地卡罗</a></li>
<li class="chapter" data-level="4.2.3" data-path="stats.html"><a href="stats.html#section-4.2.3"><i class="fa fa-check"></i><b>4.2.3</b> 马尔可夫链</a></li>
<li class="chapter" data-level="4.2.4" data-path="stats.html"><a href="stats.html#section-4.2.4"><i class="fa fa-check"></i><b>4.2.4</b> 隐马尔可夫链</a></li>
<li class="chapter" data-level="4.2.5" data-path="stats.html"><a href="stats.html#section-4.2.5"><i class="fa fa-check"></i><b>4.2.5</b> 贝叶斯分析</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="stats.html"><a href="stats.html#section-4.3"><i class="fa fa-check"></i><b>4.3</b> 统计学程序包</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="finance.html"><a href="finance.html"><i class="fa fa-check"></i><b>5</b> 金融交易</a><ul>
<li class="chapter" data-level="5.1" data-path="finance.html"><a href="finance.html#section-5.1"><i class="fa fa-check"></i><b>5.1</b> 金融交易</a><ul>
<li class="chapter" data-level="5.1.1" data-path="finance.html"><a href="finance.html#section-5.1.1"><i class="fa fa-check"></i><b>5.1.1</b> 金融交易介绍</a></li>
<li class="chapter" data-level="5.1.2" data-path="finance.html"><a href="finance.html#section-5.1.2"><i class="fa fa-check"></i><b>5.1.2</b> 金融数据</a></li>
<li class="chapter" data-level="5.1.3" data-path="finance.html"><a href="finance.html#section-5.1.3"><i class="fa fa-check"></i><b>5.1.3</b> 金融交易统计模型介绍</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="finance.html"><a href="finance.html#section-5.2"><i class="fa fa-check"></i><b>5.2</b> 单变量统计模型</a><ul>
<li class="chapter" data-level="5.2.1" data-path="finance.html"><a href="finance.html#lassoelasticnetridge"><i class="fa fa-check"></i><b>5.2.1</b> LASSO、ElasticNet、RIDGE模型</a></li>
<li class="chapter" data-level="5.2.2" data-path="finance.html"><a href="finance.html#arima"><i class="fa fa-check"></i><b>5.2.2</b> Arima模型</a></li>
<li class="chapter" data-level="5.2.3" data-path="finance.html"><a href="finance.html#section-5.2.3"><i class="fa fa-check"></i><b>5.2.3</b> 指数平滑法</a></li>
<li class="chapter" data-level="5.2.4" data-path="finance.html"><a href="finance.html#garch"><i class="fa fa-check"></i><b>5.2.4</b> GARCH模型</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="finance.html"><a href="finance.html#section-5.3"><i class="fa fa-check"></i><b>5.3</b> 多变量统计模型</a><ul>
<li class="chapter" data-level="5.3.1" data-path="finance.html"><a href="finance.html#garch-1"><i class="fa fa-check"></i><b>5.3.1</b> GARCH模型</a></li>
<li class="chapter" data-level="5.3.2" data-path="finance.html"><a href="finance.html#section"><i class="fa fa-check"></i><b>5.3.2</b> </a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="finance.html"><a href="finance.html#section-5.4"><i class="fa fa-check"></i><b>5.4</b> 高频率交易模型</a><ul>
<li class="chapter" data-level="5.4.1" data-path="finance.html"><a href="finance.html#seasonal-arima"><i class="fa fa-check"></i><b>5.4.1</b> Seasonal ARIMA</a></li>
<li class="chapter" data-level="5.4.2" data-path="finance.html"><a href="finance.html#midas"><i class="fa fa-check"></i><b>5.4.2</b> MIDAS模型</a></li>
<li class="chapter" data-level="5.4.3" data-path="finance.html"><a href="finance.html#midas-garch"><i class="fa fa-check"></i><b>5.4.3</b> MIDAS-GARCH</a></li>
<li class="chapter" data-level="5.4.4" data-path="finance.html"><a href="finance.html#garch-2"><i class="fa fa-check"></i><b>5.4.4</b> GARCH模型</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="finance.html"><a href="finance.html#section-5.5"><i class="fa fa-check"></i><b>5.5</b> 其它统计模型</a><ul>
<li class="chapter" data-level="5.5.1" data-path="finance.html"><a href="finance.html#levy-process"><i class="fa fa-check"></i><b>5.5.1</b> Levy Process</a></li>
<li class="chapter" data-level="5.5.2" data-path="finance.html"><a href="finance.html#wavelet-tranforms"><i class="fa fa-check"></i><b>5.5.2</b> Wavelet Tranforms</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="finance.html"><a href="finance.html#section-5.6"><i class="fa fa-check"></i><b>5.6</b> 投资管理</a><ul>
<li class="chapter" data-level="5.6.1" data-path="finance.html"><a href="finance.html#section-5.6.1"><i class="fa fa-check"></i><b>5.6.1</b> 投资风险管理</a></li>
<li class="chapter" data-level="5.6.2" data-path="finance.html"><a href="finance.html#section-5.6.2"><i class="fa fa-check"></i><b>5.6.2</b> 基金管理</a></li>
<li class="chapter" data-level="5.6.3" data-path="finance.html"><a href="finance.html#section-5.6.3"><i class="fa fa-check"></i><b>5.6.3</b> 多元基金管理</a></li>
<li class="chapter" data-level="5.6.4" data-path="finance.html"><a href="finance.html#section-5.6.4"><i class="fa fa-check"></i><b>5.6.4</b> 基金评估</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="finance.html"><a href="finance.html#section-5.7"><i class="fa fa-check"></i><b>5.7</b> 金融交易程序包</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sportsbook.html"><a href="sportsbook.html"><i class="fa fa-check"></i><b>6</b> 体彩交易</a><ul>
<li class="chapter" data-level="6.1" data-path="sportsbook.html"><a href="sportsbook.html#section-6.1"><i class="fa fa-check"></i><b>6.1</b> 体彩交易</a><ul>
<li class="chapter" data-level="6.1.1" data-path="sportsbook.html"><a href="sportsbook.html#section-6.1.1"><i class="fa fa-check"></i><b>6.1.1</b> 体彩交易介绍</a></li>
<li class="chapter" data-level="6.1.2" data-path="sportsbook.html"><a href="sportsbook.html#section-6.1.2"><i class="fa fa-check"></i><b>6.1.2</b> 体彩数据</a></li>
<li class="chapter" data-level="6.1.3" data-path="sportsbook.html"><a href="sportsbook.html#section-6.1.3"><i class="fa fa-check"></i><b>6.1.3</b> 体彩交易统计模型介绍</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="sportsbook.html"><a href="sportsbook.html#section-6.2"><i class="fa fa-check"></i><b>6.2</b> 足球赔率建模</a><ul>
<li class="chapter" data-level="6.2.1" data-path="sportsbook.html"><a href="sportsbook.html#section-6.2.1"><i class="fa fa-check"></i><b>6.2.1</b> 单变量泊松模型</a></li>
<li class="chapter" data-level="6.2.2" data-path="sportsbook.html"><a href="sportsbook.html#section-6.2.2"><i class="fa fa-check"></i><b>6.2.2</b> 多变量泊松模型</a></li>
<li class="chapter" data-level="6.2.3" data-path="sportsbook.html"><a href="sportsbook.html#logistic"><i class="fa fa-check"></i><b>6.2.3</b> Logistic模型</a></li>
<li class="chapter" data-level="6.2.4" data-path="sportsbook.html"><a href="sportsbook.html#section-1"><i class="fa fa-check"></i><b>6.2.4</b> </a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="sportsbook.html"><a href="sportsbook.html#section-6.3"><i class="fa fa-check"></i><b>6.3</b> 足彩投注模型</a><ul>
<li class="chapter" data-level="6.3.1" data-path="sportsbook.html"><a href="sportsbook.html#section-6.3.1"><i class="fa fa-check"></i><b>6.3.1</b> 普通投注模型</a></li>
<li class="chapter" data-level="6.3.2" data-path="sportsbook.html"><a href="sportsbook.html#section-6.3.2"><i class="fa fa-check"></i><b>6.3.2</b> 凯利投注模型</a></li>
<li class="chapter" data-level="6.3.3" data-path="sportsbook.html"><a href="sportsbook.html#ohlcgarch"><i class="fa fa-check"></i><b>6.3.3</b> OHLC与GARCH应用</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="sportsbook.html"><a href="sportsbook.html#-1"><i class="fa fa-check"></i><b>6.4</b> 投资管理</a></li>
<li class="chapter" data-level="6.5" data-path="sportsbook.html"><a href="sportsbook.html#section-6.5"><i class="fa fa-check"></i><b>6.5</b> 体彩交易程序包</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="lottery.html"><a href="lottery.html"><i class="fa fa-check"></i><b>7</b> 彩票、轮盘、老虎机与宾果</a><ul>
<li class="chapter" data-level="7.1" data-path="lottery.html"><a href="lottery.html#section-7.1"><i class="fa fa-check"></i><b>7.1</b> 彩票分析与预测</a><ul>
<li class="chapter" data-level="7.1.1" data-path="lottery.html"><a href="lottery.html#section-7.1.1"><i class="fa fa-check"></i><b>7.1.1</b> 数据与统计建模</a></li>
<li class="chapter" data-level="7.1.2" data-path="lottery.html"><a href="lottery.html#section-7.1.2"><i class="fa fa-check"></i><b>7.1.2</b> 投注模式与回酬</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="lottery.html"><a href="lottery.html#section-7.2"><i class="fa fa-check"></i><b>7.2</b> 轮盘分析与预测</a><ul>
<li class="chapter" data-level="7.2.1" data-path="sportsbook.html"><a href="sportsbook.html#-1"><i class="fa fa-check"></i><b>7.2.1</b> 数据与统计建模</a></li>
<li class="chapter" data-level="7.2.2" data-path="sportsbook.html"><a href="sportsbook.html#-1"><i class="fa fa-check"></i><b>7.2.2</b> 投注模式与回酬</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="lottery.html"><a href="lottery.html#section-7.3"><i class="fa fa-check"></i><b>7.3</b> 老虎机分析与预测</a><ul>
<li class="chapter" data-level="7.3.1" data-path="lottery.html"><a href="lottery.html#-2"><i class="fa fa-check"></i><b>7.3.1</b> 数据与统计建模</a></li>
<li class="chapter" data-level="7.3.2" data-path="lottery.html"><a href="lottery.html#-2"><i class="fa fa-check"></i><b>7.3.2</b> 投注模式与回酬</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="lottery.html"><a href="lottery.html#section-7.4"><i class="fa fa-check"></i><b>7.4</b> 宾果分析与预测</a><ul>
<li class="chapter" data-level="7.4.1" data-path="lottery.html"><a href="lottery.html#-3"><i class="fa fa-check"></i><b>7.4.1</b> 数据与统计建模</a></li>
<li class="chapter" data-level="7.4.2" data-path="lottery.html"><a href="lottery.html#-3"><i class="fa fa-check"></i><b>7.4.2</b> 投注模式与回酬</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="hft.html"><a href="hft.html"><i class="fa fa-check"></i><b>8</b> 高效率编程</a><ul>
<li class="chapter" data-level="8.1" data-path="hft.html"><a href="hft.html#section-8.1"><i class="fa fa-check"></i><b>8.1</b> 高效数据处理</a></li>
<li class="chapter" data-level="8.2" data-path="hft.html"><a href="hft.html#section-8.2"><i class="fa fa-check"></i><b>8.2</b> 高效统计建模</a></li>
<li class="chapter" data-level="8.3" data-path="hft.html"><a href="hft.html#r"><i class="fa fa-check"></i><b>8.3</b> 高效率与高级R语言参考书</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="fund.html"><a href="fund.html"><i class="fa fa-check"></i><b>9</b> 基金与投资者管理模型</a><ul>
<li class="chapter" data-level="9.1" data-path="fund.html"><a href="fund.html#section-9.1"><i class="fa fa-check"></i><b>9.1</b> 多元化基金管理</a><ul>
<li class="chapter" data-level="9.1.1" data-path="fund.html"><a href="fund.html#section-9.1.1"><i class="fa fa-check"></i><b>9.1.1</b> 多元化基金评估</a></li>
<li class="chapter" data-level="9.1.2" data-path="fund.html"><a href="fund.html#section-2"><i class="fa fa-check"></i><b>9.1.2</b> </a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="fund.html"><a href="fund.html#section-9.2"><i class="fa fa-check"></i><b>9.2</b> 投资者管理</a><ul>
<li class="chapter" data-level="9.2.1" data-path="fund.html"><a href="fund.html#section-9.2.1"><i class="fa fa-check"></i><b>9.2.1</b> 投资者资金流动统计建模</a></li>
<li class="chapter" data-level="9.2.2" data-path="fund.html"><a href="fund.html#section-3"><i class="fa fa-check"></i><b>9.2.2</b> </a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="algorithm.html"><a href="algorithm.html"><i class="fa fa-check"></i><b>10</b> 程序交易</a><ul>
<li class="chapter" data-level="10.1" data-path="algorithm.html"><a href="algorithm.html#section-10.1"><i class="fa fa-check"></i><b>10.1</b> 交易自动化</a><ul>
<li class="chapter" data-level="10.1.1" data-path="algorithm.html"><a href="algorithm.html#section-10.1.1"><i class="fa fa-check"></i><b>10.1.1</b> 数据连接自动化</a></li>
<li class="chapter" data-level="10.1.2" data-path="algorithm.html"><a href="algorithm.html#section-10.1.2"><i class="fa fa-check"></i><b>10.1.2</b> 统计运算自动化</a></li>
<li class="chapter" data-level="10.1.3" data-path="algorithm.html"><a href="algorithm.html#section-10.1.3"><i class="fa fa-check"></i><b>10.1.3</b> 基金评估自动化</a></li>
<li class="chapter" data-level="10.1.4" data-path="algorithm.html"><a href="algorithm.html#section-10.1.4"><i class="fa fa-check"></i><b>10.1.4</b> 客户管理自动化</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="algorithm.html"><a href="algorithm.html#section-10.2"><i class="fa fa-check"></i><b>10.2</b> 多客户管理</a><ul>
<li class="chapter" data-level="10.2.1" data-path="algorithm.html"><a href="algorithm.html#section-10.2.1"><i class="fa fa-check"></i><b>10.2.1</b> 多投资者</a></li>
<li class="chapter" data-level="10.2.2" data-path="algorithm.html"><a href="algorithm.html#section-10.2.2"><i class="fa fa-check"></i><b>10.2.2</b> 绩效管理</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="algorithm.html"><a href="algorithm.html#section-4"><i class="fa fa-check"></i><b>10.3</b> </a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="reference.html"><a href="reference.html"><i class="fa fa-check"></i><b>11</b> 嶲峫暥專</a></li>
<li class="divider"></li>
<li><a href="https://github.com/englianhu/data-analysis" target="blank">原始代码</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R语言玩转金融与体彩数据分析 <img src='figure/quant-trade.jpg' width='240'></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analytics" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> 数据分析</h1>
<div id="section-3.1" class="section level2">
<h2><span class="header-section-number">3.1</span> 读存数据</h2>
<div id="section-3.1.1" class="section level3">
<h3><span class="header-section-number">3.1.1</span> 本地文件</h3>
</div>
<div id="section-3.1.2" class="section level3">
<h3><span class="header-section-number">3.1.2</span> 外来文件</h3>
<table>
<thead>
<tr class="header">
<th align="center">readr function</th>
<th align="center">Use</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">read_csv</td>
<td align="center">Reads comma-separated file</td>
</tr>
<tr class="even">
<td align="center">read_csv2</td>
<td align="center">Reads semicolon-separated file</td>
</tr>
<tr class="odd">
<td align="center">read_tsv</td>
<td align="center">Reads tab-separated file</td>
</tr>
<tr class="even">
<td align="center">read_delim</td>
<td align="center">General function for reading delimited files</td>
</tr>
<tr class="odd">
<td align="center">read_fwf</td>
<td align="center">Reads fixed width files</td>
</tr>
<tr class="even">
<td align="center">read_log</td>
<td align="center">Reads log files</td>
</tr>
</tbody>
</table>
<p><a href="https://jeevanyue.github.io/post/2018-01-08-read_data_in_r/">在R中读取数据</a></p>
</div>
</div>
<div id="section-3.2" class="section level2">
<h2><span class="header-section-number">3.2</span> 采集网络数据</h2>
<div id="section-3.2.1" class="section level3">
<h3><span class="header-section-number">3.2.1</span> 普通采集</h3>
</div>
<div id="api" class="section level3">
<h3><span class="header-section-number">3.2.2</span> API接口</h3>
</div>
<div id="web-driver" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Web Driver</h3>
</div>
</div>
<div id="section-3.3" class="section level2">
<h2><span class="header-section-number">3.3</span> 数据处理</h2>
<div id="section-3.3.1" class="section level3">
<h3><span class="header-section-number">3.3.1</span> 文字与数字</h3>
<ul>
<li><a href="https://appsilon.com/an-example-of-how-to-use-the-new-r-promises-package/">An example of how to use the new R <code>promises</code> package</a></li>
<li><a href="https://cran.r-project.org/web/packages/future/vignettes/future-1-overview.html">A Future for R: A Comprehensive Overview</a></li>
</ul>
<table>
<thead>
<tr class="header">
<th align="center">Metacharacter</th>
<th align="center">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">.</td>
<td align="center">Any Character</td>
</tr>
<tr class="even">
<td align="center"></td>
<td align="center">A Word</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center">Not a Word</td>
</tr>
<tr class="even">
<td align="center"></td>
<td align="center">A Digit</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center">Not a Digit</td>
</tr>
<tr class="even">
<td align="center"></td>
<td align="center">Whitespace</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center">Not Whitespace</td>
</tr>
<tr class="even">
<td align="center">[xyz]</td>
<td align="center">A Set of Characters</td>
</tr>
<tr class="odd">
<td align="center">[^xyz]</td>
<td align="center">Negation of Set</td>
</tr>
<tr class="even">
<td align="center">[a-z]</td>
<td align="center">A Range of Characters</td>
</tr>
<tr class="odd">
<td align="center">^</td>
<td align="center">Beginning of String</td>
</tr>
<tr class="even">
<td align="center">$</td>
<td align="center">End of String</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center">Newline</td>
</tr>
<tr class="even">
<td align="center">+</td>
<td align="center">One or More of Previous</td>
</tr>
<tr class="odd">
<td align="center">*</td>
<td align="center">Zero or More of Previous</td>
</tr>
<tr class="even">
<td align="center">?</td>
<td align="center">Zero or One of Previous</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">{5}</td>
<td align="center">Exactly 5 of Previous</td>
</tr>
<tr class="odd">
<td align="center">{2, 5}</td>
<td align="center">Between 2 and 5 or Previous</td>
</tr>
<tr class="even">
<td align="center">{2, }</td>
<td align="center">More than 2 of Previous</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str_extract_all</span>(<span class="st">&quot;Mississippi&quot;</span>, <span class="st">&quot;(i.{2}){3}&quot;</span>)[[<span class="dv">1</span>]]
<span class="co">#[1] &quot;ississipp&quot;</span>

<span class="kw">str_extract_all</span>(<span class="st">&quot;Mississippi&quot;</span>, <span class="st">&quot;(i.{2})&quot;</span>)[[<span class="dv">1</span>]]
<span class="co">#[1] &quot;iss&quot; &quot;iss&quot; &quot;ipp&quot;</span>

<span class="kw">str_extract_all</span>(<span class="st">&quot;abcdefghijklmnopqrstuvwxyz0123456789&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">w&quot;</span>)[[<span class="dv">1</span>]]
<span class="co"># [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot;</span>
<span class="co">#[19] &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot; &quot;0&quot; &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot; &quot;8&quot; &quot;9&quot;</span>

<span class="kw">str_extract_all</span>(<span class="st">&#39;0123456789&#39;</span>, <span class="st">&#39;</span><span class="ch">\\</span><span class="st">d&#39;</span>)[[<span class="dv">1</span>]]
<span class="co"># [1] &quot;0&quot; &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot; &quot;8&quot; &quot;9&quot;</span>

<span class="kw">str_extract_all</span>(<span class="st">&quot;</span><span class="ch">\n\t</span><span class="st">   &quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">s&quot;</span>)[[<span class="dv">1</span>]]
<span class="co">#[1] &quot;\n&quot; &quot;\t&quot; &quot; &quot;  &quot; &quot;  &quot; &quot;</span>

<span class="kw">str_extract_all</span>(<span class="st">&quot;</span><span class="ch">\n\t</span><span class="st">   &quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">d&quot;</span>)[[<span class="dv">1</span>]]
<span class="co">#character(0)</span>

<span class="kw">str_extract_all</span>(<span class="st">&quot;</span><span class="ch">\n\t</span><span class="st">   &quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">w&quot;</span>)[[<span class="dv">1</span>]]
<span class="co">#character(0)</span>

<span class="kw">str_extract_all</span>(<span class="st">&quot;abcdefghijklmnopqrstuvwxyz0123456789&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">d&quot;</span>)[[<span class="dv">1</span>]]
<span class="co"># [1] &quot;0&quot; &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot; &quot;8&quot; &quot;9&quot;</span>

<span class="kw">str_extract_all</span>(<span class="st">&quot;abcdefghijklmnopqrstuvwxyz0123456789&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">D&quot;</span>)[[<span class="dv">1</span>]]
<span class="co"># [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot;</span>
<span class="co">#[19] &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</span>

<span class="kw">str_extract_all</span>(<span class="st">&quot;rhythms&quot;</span>, <span class="st">&quot;[aeiou]&quot;</span>)[[<span class="dv">1</span>]]
<span class="co">#character(0)</span>

<span class="kw">str_extract_all</span>(<span class="st">&quot;rhythms&quot;</span>, <span class="st">&quot;[^aeiou]&quot;</span>)[[<span class="dv">1</span>]]
<span class="co">#[1] &quot;r&quot; &quot;h&quot; &quot;y&quot; &quot;t&quot; &quot;h&quot; &quot;m&quot; &quot;s&quot;</span>

<span class="kw">grepl</span>(<span class="st">&quot;[aeiou]&quot;</span>, <span class="st">&quot;rhythms&quot;</span>)[[<span class="dv">1</span>]]
<span class="co">#[1] FALSE</span>

<span class="kw">grepl</span>(<span class="st">&quot;[^aeiou]&quot;</span>, <span class="st">&quot;rhythms&quot;</span>)[[<span class="dv">1</span>]]
<span class="co">#[1] TRUE</span>

<span class="kw">grepl</span>(<span class="st">&quot;a|b&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;bcd&quot;</span>, <span class="st">&quot;cde&quot;</span>))
<span class="co">#[1]  TRUE  TRUE FALSE</span>

<span class="kw">grepl</span>(<span class="st">&quot;^[ab]+$&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;bab&quot;</span>, <span class="st">&quot;aab&quot;</span>, <span class="st">&quot;abc&quot;</span>))
<span class="co">#[1]  TRUE  TRUE FALSE</span>

<span class="kw">str_extract_all</span>(<span class="kw">c</span>(<span class="st">&quot;bab&quot;</span>, <span class="st">&quot;aab&quot;</span>, <span class="st">&quot;abc&quot;</span>), <span class="st">&quot;^[ab]+$&quot;</span>)
<span class="co">#[[1]]</span>
<span class="co">#[1] &quot;bab&quot;</span>
<span class="co">#</span>
<span class="co">#[[2]]</span>
<span class="co">#[1] &quot;aab&quot;</span>
<span class="co">#</span>
<span class="co">#[[3]]</span>
<span class="co">#character(0)</span>

<span class="kw">str_extract_all</span>(<span class="kw">c</span>(<span class="st">&quot;bab&quot;</span>, <span class="st">&quot;aab&quot;</span>, <span class="st">&quot;abc&quot;</span>), <span class="st">&quot;a|b&quot;</span>)
<span class="co">#[[1]]</span>
<span class="co">#[1] &quot;b&quot; &quot;a&quot; &quot;b&quot;</span>
<span class="co">#</span>
<span class="co">#[[2]]</span>
<span class="co">#[1] &quot;a&quot; &quot;a&quot; &quot;b&quot;</span>
<span class="co">#</span>
<span class="co">#[[3]]</span>
<span class="co">#[1] &quot;a&quot; &quot;b&quot;</span>

<span class="kw">grepl</span>(<span class="st">&quot;North|South&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;South Dakota&quot;</span>, <span class="st">&quot;North Carolina&quot;</span>, <span class="st">&quot;West Virginia&quot;</span>))
<span class="co">#[1]  TRUE  TRUE FALSE</span>

start_end_vowel &lt;-<span class="st"> &quot;^[AEIOU]{1}.+[aeiou]{1}$&quot;</span>
vowel_state_lgl &lt;-<span class="st"> </span><span class="kw">grepl</span>(start_end_vowel, state.name)
<span class="kw">head</span>(vowel_state_lgl)
<span class="co">#[1]  TRUE  TRUE  TRUE FALSE FALSE FALSE</span>

state.name[vowel_state_lgl]
<span class="co">#[1] &quot;Alabama&quot;  &quot;Alaska&quot;   &quot;Arizona&quot;  &quot;Idaho&quot;    &quot;Indiana&quot;  &quot;Iowa&quot;    </span>
<span class="co">#[7] &quot;Ohio&quot;     &quot;Oklahoma&quot;</span>

<span class="kw">grepl</span>(<span class="st">&quot;[Ii]&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;Hawaii&quot;</span>, <span class="st">&quot;Illinois&quot;</span>, <span class="st">&quot;Kentucky&quot;</span>))
<span class="co">#[1]  TRUE  TRUE FALSE</span>

<span class="kw">str_extract_all</span>(<span class="kw">c</span>(<span class="st">&quot;Hawaii&quot;</span>, <span class="st">&quot;Illinois&quot;</span>, <span class="st">&quot;Kentucky&quot;</span>), <span class="st">&quot;[Ii]&quot;</span>)
<span class="co">#[[1]]</span>
<span class="co">#[1] &quot;i&quot; &quot;i&quot;</span>
<span class="co">#</span>
<span class="co">#[[2]]</span>
<span class="co">#[1] &quot;I&quot; &quot;i&quot; &quot;i&quot;</span>
<span class="co">#</span>
<span class="co">#[[3]]</span>
<span class="co">#character(0)</span>

<span class="kw">str_detect</span>(<span class="kw">c</span>(<span class="st">&quot;Hawaii&quot;</span>, <span class="st">&quot;Illinois&quot;</span>, <span class="st">&quot;Kentucky&quot;</span>), <span class="st">&quot;[Ii]&quot;</span>)
<span class="co">#[1]  TRUE  TRUE FALSE</span>

## The sub() function takes as arguments a regex, a “replacement,” and a vector of strings. This function will replace the first instance of that regex found in each string.
<span class="kw">sub</span>(<span class="st">&quot;[Ii]&quot;</span>, <span class="st">&quot;1&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;Hawaii&quot;</span>, <span class="st">&quot;Illinois&quot;</span>, <span class="st">&quot;Kentucky&quot;</span>))
<span class="co">#[1] &quot;Hawa1i&quot;   &quot;1llinois&quot; &quot;Kentucky&quot;</span>

## The gsub() function is nearly the same as sub() except it will replace every instance of the regex that is matched in each string.
<span class="kw">gsub</span>(<span class="st">&quot;[Ii]&quot;</span>, <span class="st">&quot;1&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;Hawaii&quot;</span>, <span class="st">&quot;Illinois&quot;</span>, <span class="st">&quot;Kentucky&quot;</span>))
<span class="co">#[1] &quot;Hawa11&quot;   &quot;1ll1no1s&quot; &quot;Kentucky&quot;</span>

<span class="kw">str_replace_all</span>(<span class="kw">c</span>(<span class="st">&quot;Hawaii&quot;</span>, <span class="st">&quot;Illinois&quot;</span>, <span class="st">&quot;Kentucky&quot;</span>), <span class="st">&quot;[Ii]&quot;</span>, <span class="st">&quot;1&quot;</span>)
<span class="co">#[1] &quot;Hawa11&quot;   &quot;1ll1no1s&quot; &quot;Kentucky&quot;</span>

<span class="co">#The strsplit() function will split up strings according to the provided regex. If strsplit() is provided with a vector of strings it will return a list of string vectors.</span>
two_s &lt;-<span class="st"> </span>state.name[<span class="kw">grep</span>(<span class="st">&quot;ss&quot;</span>, state.name)]
two_s
<span class="co">#[1] &quot;Massachusetts&quot; &quot;Mississippi&quot;   &quot;Missouri&quot;      &quot;Tennessee&quot;    </span>

<span class="kw">strsplit</span>(two_s, <span class="st">&quot;ss&quot;</span>)
<span class="co">#[[1]]</span>
<span class="co">#[1] &quot;Ma&quot;        &quot;achusetts&quot;</span>
<span class="co">#</span>
<span class="co">#[[2]]</span>
<span class="co">#[1] &quot;Mi&quot;   &quot;i&quot;    &quot;ippi&quot;</span>
<span class="co">#</span>
<span class="co">#[[3]]</span>
<span class="co">#[1] &quot;Mi&quot;   &quot;ouri&quot;</span>
<span class="co">#</span>
<span class="co">#[[4]]</span>
<span class="co">#[1] &quot;Tenne&quot; &quot;ee&quot;</span>

<span class="kw">library</span>(stringr)

state_tbl &lt;-<span class="st"> </span><span class="kw">paste</span>(state.name, state.area, state.abb)
<span class="kw">head</span>(state_tbl)
<span class="co">#[1] &quot;Alabama 51609 AL&quot;     &quot;Alaska 589757 AK&quot;     &quot;Arizona 113909 AZ&quot;   </span>
<span class="co">#[4] &quot;Arkansas 53104 AR&quot;    &quot;California 158693 CA&quot; &quot;Colorado 104247 CO&quot;  </span>

<span class="kw">str_extract</span>(state_tbl, <span class="st">&quot;[0-9]+&quot;</span>)
<span class="co"># [1] &quot;51609&quot;  &quot;589757&quot; &quot;113909&quot; &quot;53104&quot;  &quot;158693&quot; &quot;104247&quot; &quot;5009&quot;  </span>
<span class="co"># [8] &quot;2057&quot;   &quot;58560&quot;  &quot;58876&quot;  &quot;6450&quot;   &quot;83557&quot;  &quot;56400&quot;  &quot;36291&quot; </span>
<span class="co">#[15] &quot;56290&quot;  &quot;82264&quot;  &quot;40395&quot;  &quot;48523&quot;  &quot;33215&quot;  &quot;10577&quot;  &quot;8257&quot;  </span>
<span class="co">#[22] &quot;58216&quot;  &quot;84068&quot;  &quot;47716&quot;  &quot;69686&quot;  &quot;147138&quot; &quot;77227&quot;  &quot;110540&quot;</span>
<span class="co">#[29] &quot;9304&quot;   &quot;7836&quot;   &quot;121666&quot; &quot;49576&quot;  &quot;52586&quot;  &quot;70665&quot;  &quot;41222&quot; </span>
<span class="co">#[36] &quot;69919&quot;  &quot;96981&quot;  &quot;45333&quot;  &quot;1214&quot;   &quot;31055&quot;  &quot;77047&quot;  &quot;42244&quot; </span>
<span class="co">#[43] &quot;267339&quot; &quot;84916&quot;  &quot;9609&quot;   &quot;40815&quot;  &quot;68192&quot;  &quot;24181&quot;  &quot;56154&quot; </span>
<span class="co">#[50] &quot;97914&quot;</span>

## The str_order() function returns a numeric vector that corresponds to the alphabetical order of the strings in the provided vector.
<span class="kw">head</span>(state.abb)
<span class="co">#[1] &quot;AL&quot; &quot;AK&quot; &quot;AZ&quot; &quot;AR&quot; &quot;CA&quot; &quot;CO&quot;</span>

<span class="kw">str_order</span>(state.name)
<span class="co"># [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24</span>
<span class="co">#[25] 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48</span>
<span class="co">#[49] 49 50</span>

<span class="kw">head</span>(state.name)
<span class="co">#[1] &quot;Alabama&quot;    &quot;Alaska&quot;     &quot;Arizona&quot;    &quot;Arkansas&quot;   &quot;California&quot;</span>
<span class="co">#[6] &quot;Colorado&quot;</span>
<span class="kw">str_order</span>(state.abb)
<span class="co"># [1]  2  1  4  3  5  6  7  8  9 10 11 15 12 13 14 16 17 18 21 20 19 22 23 25</span>
<span class="co">#[25] 24 26 33 34 27 29 30 31 28 32 35 36 37 38 39 40 41 42 43 44 46 45 47 49</span>
<span class="co">#[49] 48 50</span>

## The str_pad() function pads strings with other characters which is often useful when the string is going to be eventually printed for a person to read.
<span class="kw">str_pad</span>(<span class="st">&quot;Thai&quot;</span>, <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">side =</span> <span class="st">&quot;left&quot;</span>, <span class="dt">pad =</span> <span class="st">&quot;-&quot;</span>)
<span class="co">#[1] &quot;----Thai&quot;</span>

<span class="kw">str_pad</span>(<span class="st">&quot;Thai&quot;</span>, <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">side =</span> <span class="st">&quot;right&quot;</span>, <span class="dt">pad =</span> <span class="st">&quot;-&quot;</span>)
<span class="co">#[1] &quot;Thai----&quot;</span>

<span class="kw">str_pad</span>(<span class="st">&quot;Thai&quot;</span>, <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">side =</span> <span class="st">&quot;both&quot;</span>, <span class="dt">pad =</span> <span class="st">&quot;-&quot;</span>)
<span class="co">#[1] &quot;--Thai--&quot;</span>

## The str_to_title() function acts just like tolower() andtoupper() except it puts strings into Title Case.
cases &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;CAPS&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;Title&quot;</span>)
<span class="kw">str_to_title</span>(cases)
<span class="co">#[1] &quot;Caps&quot;  &quot;Low&quot;   &quot;Title&quot;</span>

## The str_trim() function deletes whitespace from both sides of a string.
to_trim &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;   space&quot;</span>, <span class="st">&quot;the    &quot;</span>, <span class="st">&quot;    final frontier  &quot;</span>)
<span class="kw">str_trim</span>(to_trim)
<span class="co">#[1] &quot;space&quot;          &quot;the&quot;            &quot;final frontier&quot;</span>

## The str_wrap() function inserts newlines in strings so that when the string is printed each line’s length is limited.
pasted_states &lt;-<span class="st"> </span><span class="kw">paste</span>(state.name[<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>], <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span>)
<span class="kw">cat</span>(<span class="kw">str_wrap</span>(pasted_states, <span class="dt">width =</span> <span class="dv">80</span>))
<span class="co">#Alabama Alaska Arizona Arkansas California Colorado Connecticut Delaware Florida</span>
<span class="co">#Georgia Hawaii Idaho Illinois Indiana Iowa Kansas Kentucky Louisiana Maine</span>
<span class="co">#Maryland</span>

<span class="kw">cat</span>(<span class="kw">str_wrap</span>(pasted_states, <span class="dt">width =</span> <span class="dv">30</span>))
<span class="co">#Alabama Alaska Arizona</span>
<span class="co">#Arkansas California Colorado</span>
<span class="co">#Connecticut Delaware Florida</span>
<span class="co">#Georgia Hawaii Idaho Illinois</span>
<span class="co">#Indiana Iowa Kansas Kentucky</span>
<span class="co">#Louisiana Maine Maryland</span>

## The word() function allows you to index each word in a string as if it were a vector.
a_tale &lt;-<span class="st"> &quot;It was the best of times it was the worst of times it was the age of wisdom it was the age of foolishness&quot;</span>
<span class="kw">word</span>(a_tale, <span class="dv">2</span>)
<span class="co">#[1] &quot;was&quot;</span>

<span class="kw">word</span>(a_tale, <span class="dt">end =</span> <span class="dv">3</span>)
<span class="co">#[1] &quot;It was the&quot;</span>

<span class="kw">word</span>(a_tale, <span class="dt">start =</span> <span class="dv">11</span>, <span class="dt">end =</span> <span class="dv">15</span>)
<span class="co">#[1] &quot;of times it was the&quot;</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="center">Metacharacter</th>
<th align="center">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">.</td>
<td align="center">Any Character</td>
</tr>
<tr class="even">
<td align="center"></td>
<td align="center">A Word</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center">Not a Word</td>
</tr>
<tr class="even">
<td align="center"></td>
<td align="center">A Digit</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center">Not a Digit</td>
</tr>
<tr class="even">
<td align="center"></td>
<td align="center">Whitespace</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center">Not Whitespace</td>
</tr>
<tr class="even">
<td align="center">[xyz]</td>
<td align="center">A Set of Characters</td>
</tr>
<tr class="odd">
<td align="center">[^xyz]</td>
<td align="center">Negation of Set</td>
</tr>
<tr class="even">
<td align="center">[a-z]</td>
<td align="center">A Range of Characters</td>
</tr>
<tr class="odd">
<td align="center">^</td>
<td align="center">Beginning of String</td>
</tr>
<tr class="even">
<td align="center">$</td>
<td align="center">End of String</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center">Newline</td>
</tr>
<tr class="even">
<td align="center">+</td>
<td align="center">One or More of Previous</td>
</tr>
<tr class="odd">
<td align="center">*</td>
<td align="center">Zero or More of Previous</td>
</tr>
<tr class="even">
<td align="center">?</td>
<td align="center">Zero or One of Previous</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">{5}</td>
<td align="center">Exactly 5 of Previous</td>
</tr>
<tr class="odd">
<td align="center">{2, 5}</td>
<td align="center">Between 2 and 5 or Previous</td>
</tr>
<tr class="even">
<td align="center">{2, }</td>
<td align="center">More than 2 of Previous</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th align="center">Operator</th>
<th align="center">Meaning</th>
<th align="center">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">==</td>
<td align="center">Equals</td>
<td align="center">storm_name == KATRINA</td>
</tr>
<tr class="even">
<td align="center">!=</td>
<td align="center">Does not equal</td>
<td align="center">min_pressure != 0</td>
</tr>
<tr class="odd">
<td align="center">&gt;</td>
<td align="center">Greater than</td>
<td align="center">latitude &gt; 25</td>
</tr>
<tr class="even">
<td align="center">&gt;=</td>
<td align="center">Greater than or equal to</td>
<td align="center">max_wind &gt;= 160</td>
</tr>
<tr class="odd">
<td align="center">&lt;</td>
<td align="center">Less than</td>
<td align="center">min_pressure &lt; 900</td>
</tr>
<tr class="even">
<td align="center">&lt;=</td>
<td align="center">Less than or equal to</td>
<td align="center">distance_to_land &lt;= 0</td>
</tr>
<tr class="odd">
<td align="center">%in%</td>
<td align="center">Included in</td>
<td align="center">storm_name %in% c(“KATRINA”, “ANDREW”)</td>
</tr>
<tr class="even">
<td align="center">is.na()</td>
<td align="center">Is a missing value</td>
<td align="center">is.na(radius_34_ne)</td>
</tr>
</tbody>
</table>
<blockquote>
<p>String manipulation in R is useful for data cleaning, plus it can be fun! For prototyping your first regular expressions I highly recommend checking out <a href="http://regexr.com/" class="uri">http://regexr.com/</a>. If you’re interested in what some people call a more “humane” way of constructing regular expressions you should check out the <a href="https://github.com/kevinushey/rex">rex</a> package by <a href="https://github.com/kevinushey">Kevin Ushey</a> and <a href="http://www.jimhester.com/">Jim Hester</a>. If you’d like to find out more about text analysis I highly recommend reading <a href="http://tidytextmining.com/">Tidy Text Mining in R</a> by <a href="http://juliasilge.com/">Julia Silge</a> and <a href="http://varianceexplained.org/">David Robinson</a>.</p>
</blockquote>
</div>
<div id="section-3.3.2" class="section level3">
<h3><span class="header-section-number">3.3.2</span> 数据框与矩阵</h3>
<ul>
<li><a href="https://stackoverflow.com/questions/43212308/na-locf-using-group-by-from-dplyr"><code>na.locf</code> using group by from <code>dplyr</code></a></li>
<li><a href="https://stackoverflow.com/questions/23340150/replace-missing-values-na-with-most-recent-non-na-by-group">Replace Missing Values NA with Most Recent Non-NA by Group</a></li>
<li><a href="https://stackoverflow.com/questions/40040834/replace-na-with-previous-or-next-value-by-group-using-dplyr/40041172">Replace NA with Previous or Next Value by Group using <code>dplyr</code></a></li>
<li><a href="https://stackoverflow.com/questions/47242643/na-at-the-end-of-column-using-na-locf-function">NA at the End of Column using <code>na.locf</code> Function</a></li>
<li><a href="https://stackoverflow.com/questions/49578085/na-locf-function-is-changing-data-frame-values-from-int-to-char-in-r"><code>na.locf</code> Function is Changing <code>data.frame</code> Values from <code>int</code> to <code>char</code> in R</a></li>
<li><a href="https://stackoverflow.com/questions/13616965/how-to-fill-nas-with-locf-by-factors-in-data-frame-split-by-country">How to Fill NAs with locf by Factors in <code>data. frame</code> split by Country</a></li>
<li><a href="https://stackoverflow.com/questions/23340150/replace-missing-values-na-with-most-recent-non-na-by-group">Replace Missing Values <code>NA</code> with Most Recent non-NA by Group</a></li>
</ul>
</div>
<div id="section-3.3.3" class="section level3">
<h3><span class="header-section-number">3.3.3</span> 列表与嵌套数据</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dir.create</span>(<span class="kw">file.path</span>(<span class="st">&#39;testdir2&#39;</span>, <span class="st">&#39;testdir3&#39;</span>), <span class="dt">recursive =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>以上代码可新建一个文件夹和子文件夹。</p>
</div>
<div id="section-3.3.4" class="section level3">
<h3><span class="header-section-number">3.3.4</span> 内存</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(pryr)
<span class="kw">mem_used</span>()
<span class="co">#108 MB</span>

<span class="kw">sapply</span>(<span class="kw">ls</span>(), <span class="cf">function</span>(x) <span class="kw">object_size</span>(<span class="kw">get</span>(x))) <span class="op">%&gt;%</span><span class="st"> </span>sort

<span class="kw">mem_change</span>(<span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>()))
<span class="co">#-1.22 kB</span>

## The .Machine object in R (found in the base package) can give you specific details about how your computer/operation system stores different types of data.
<span class="kw">str</span>(.Machine) <span class="co">#or tibble::glimpse(.Machince)</span>
<span class="co">#List of 18</span>
<span class="co"># $ double.eps           : num 2.22e-16</span>
<span class="co"># $ double.neg.eps       : num 1.11e-16</span>
<span class="co"># $ double.xmin          : num 2.23e-308</span>
<span class="co"># $ double.xmax          : num 1.8e+308</span>
<span class="co"># $ double.base          : int 2</span>
<span class="co"># $ double.digits        : int 53</span>
<span class="co"># $ double.rounding      : int 5</span>
<span class="co"># $ double.guard         : int 0</span>
<span class="co"># $ double.ulp.digits    : int -52</span>
<span class="co"># $ double.neg.ulp.digits: int -53</span>
<span class="co"># $ double.exponent      : int 11</span>
<span class="co"># $ double.min.exp       : int -1022</span>
<span class="co"># $ double.max.exp       : int 1024</span>
<span class="co"># $ integer.max          : int 2147483647</span>
<span class="co"># $ sizeof.long          : int 8</span>
<span class="co"># $ sizeof.longlong      : int 8</span>
<span class="co"># $ sizeof.longdouble    : int 16</span>
<span class="co"># $ sizeof.pointer       : int 8</span>

## The gc() function in the base package can be used to explicitly trigger a garbage collection in R. Calling gc() explicitly is never actually needed, but it does produce some output that is worth understanding.
<span class="kw">gc</span>()
<span class="co">#          used  (Mb) gc trigger  (Mb) max used  (Mb)</span>
<span class="co">#Ncells 3124234 166.9    5938641 317.2  4136665 221.0</span>
<span class="co">#Vcells 6906107  52.7   12255594  93.6 10145775  77.5</span></code></pre></div>
</div>
<div id="section-3.3.5" class="section level3">
<h3><span class="header-section-number">3.3.5</span> 数据库</h3>
<div class="figure">
<img src="figure/database_management.jpg" />

</div>
<table>
<thead>
<tr class="header">
<th align="center">Database Management System</th>
<th align="center">R packages</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Oracle</td>
<td align="center">ROracle</td>
</tr>
<tr class="even">
<td align="center">MySQL</td>
<td align="center">RMySQL</td>
</tr>
<tr class="odd">
<td align="center">Microsoft SQL Server</td>
<td align="center">RSQLServer</td>
</tr>
<tr class="even">
<td align="center">PostgreSQL</td>
<td align="center">RPostgres</td>
</tr>
<tr class="odd">
<td align="center">SQLite</td>
<td align="center">RSQLite</td>
</tr>
</tbody>
</table>
<blockquote>
<p>For more on the DBI package, including its history, see <a href="https://github.com/rstats-db/DBI">the package’s GitHub README page</a>.</p>
</blockquote>
</div>
</div>
<div id="section-3.4" class="section level2">
<h2><span class="header-section-number">3.4</span> 数据分析程序包</h2>
<hr />
<p><strong>Powered by - Copyright® Intellectual Property Rights of <img src='figure/oda-army2.jpg' width='24'> <a href="http://www.scibrokes.com">Scibrokes®</a>個人の経営企業</strong></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="stats.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": ["data-analysis.pdf", "data-analysis.epub"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
